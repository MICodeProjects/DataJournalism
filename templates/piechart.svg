<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000" width="1000" height="1000">

  <circle r="300" cx="300" cy="300" fill="maroon" />
  {% for i in range(piechart_len) %}
    <circle r="150" cx="300" cy="300" fill="transparent"
            stroke="orange"
            stroke-width="300"
            stroke-dasharray="calc({{piechart_vals[i]}} * 942 / 100) 942" 
            stroke-opacity="{{1-(i/piechart_len)}}"
            transform="rotate(-90) translate(-600)" />

  <rect x="650" y="{{30+(600/piechart_len)*i}}" fill="maroon" fill-opacity="1" width="30" height="30"/>
  <rect x="650" y="{{30+(600/piechart_len)*i}}" fill="orange" fill-opacity="{{1-(i/piechart_len)}}" width="30" height="30"/>
  <text x="690" y="{{50+(600/piechart_len)*i}}" text-anchor="start">{{piechart_data[i][0]}}</text>

  {% endfor %}

</svg>


</svg>

